本工程为TDF Base独立的文档工程。
## 一.文档规范
1. 按照SUMMARY.md目录结构，决定具体文档中的一级标题采用"#"，"##"或"###"，如：
    快速开始/1.使用安装包快速运行.md中的一级标题采用"##"。


## 二.使用gitbook管理文档
```
npm install -g gitbook-cli
# 验证
gitbook -V
```

### 快速开始
项目根目录运行:

```
# 初始化一本书
gitbook init

# 编辑后，启动html服务，gitbook会启动一个4000端口用于本地预览
gitbook serve
```

### 发布为HTML

```
# 生成html到当前目录的_book文件夹下
gitbook build
```

### 发布为pdf

在根目录运行：

```
gitbook pdf . tdf-base文档.pdf
```

### 常见问题
* "ebook-convert" is not installed的问题 ,mac需要安装Calibre

## 三.部署到社区76服务器
1. 构建
    ```yaml
    # export PATH=/Applications/calibre.app/Contents/MacOS:$PATH
    # export PATH="$PATH:/usr/local/Cellar/node/11.8.0/bin"
    # 生成html到当前目录的_book文件夹下
    gitbook build
    mv _book 2.2.1
    ```
1. 上传文件
    ```
    # 使用sftp上传的服务器
    sudo sftp -P 10022 root@192.168.99.76:/usr/local/gitbook/_book_tdf

    # 上传
    put -r 2.2.1
    # 推出sftp
    exit
    ```
1. 检查
    1. ssh登录192.168.99.76
    1. 进入目录： /usr/local/gitbook 查看文件是否正确

> 76服务器其nginx配置：
> /user/local/nginx/conf.d/default.conf
> /user/local/nginx/sbin/nginx -s reload

## 四.参考
* https://einverne.github.io/gitbook-tutorial/
* [将GitBook转成PDF或者EPUB格式电子书](https://www.jianshu.com/p/7d192b650874)
* [如何将 Gitbook 转为 PDF ？](https://www.zhihu.com/question/24428806)
* [GitBook 使用教程](https://www.jianshu.com/p/421cc442f06c)

